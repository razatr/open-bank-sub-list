{"version":3,"sources":["components/Header/HorizontalMenu/Lock.svg","components/Header/HeaderImg/Header_logo.svg","localization/i18n.js","components/Body/RadialChart.js","components/common/DescriptionTitle.js","AC/index.js","constants.js","components/Body/SubList/Subscription.js","components/common/Title.js","components/Body/SubList/index.js","components/Body/Body.js","components/Header/HorizontalMenu/MenuButton.js","components/Header/HorizontalMenu/index.js","components/Header/HeaderImg/index.js","components/Header/index.js","components/App.js","components/Root.js","reducer/subscriptions.js","reducer/index.js","reducer/categories.js","store/index.js","middlewares/api.js","index.js"],"names":["module","exports","i18n","use","initReactI18next","init","fallbackLng","lng","debug","resources","vocabulary","react","wait","bindI18n","bindStore","nsMode","RadialChart","data","this","props","COLORS","colors","width","height","onMouseEnter","onPieEnter","cx","cy","innerRadius","outerRadius","fill","paddingAngle","dataKey","map","entry","index","length","Component","DescriptionTitle","value","title","className","removeIdFromNewSub","id","type","payload","Subscription","state","isOpen","loading","loaded","error","isNew","newSub","includes","initialDate","price","currency","categoryId","notificationDelay","site","category","categories","href","target","date","trial","removeId","Fragment","style","backgroundColor","onClick","setState","dispatch","color","getTrialText","getDescription","getContent","connect","subscriptions","get","toArray","Title","size","fontSize","SMALL_TEXT","paddingBottom","NORMAL_TEXT","LARGE_TEXT","getStyle","SubList","body","push","nextDate","loadSubscriptions","getBody","callAPI","Body","key","subList","name","getData","getColors","MenuButton","icon","notification","active","position","getNotification","margin","getIcon","HorizontalMenu","display","src","lock","alt","getUserInfo","justifyContent","getMenu","Index","logo","Header","HeaderImg","App","changeLanguage","withTranslation","Root","I18nextProvider","store","withStyles","root","fontFamily","subRecord","Record","entities","List","combineReducers","action","response","keyOf","set","delete","createStore","reducer","applyMiddleware","next","a","rest","fetch","res","json","window","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.839ea334.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Lock.75e1c5bc.svg\";","module.exports = __webpack_public_path__ + \"static/media/Header_logo.f0ec2208.svg\";","import i18n from 'i18next'\r\nimport { initReactI18next } from 'react-i18next'\r\nimport vocabulary from './vocabulary.json'\r\n\r\ni18n\r\n    .use(initReactI18next) // if not using I18nextProvider\r\n    .init({\r\n        fallbackLng: 'ru',\r\n        lng: \"ru\",\r\n        debug: true,\r\n        resources: vocabulary,\r\n\r\n        // react i18next special options (optional)\r\n        react: {\r\n            wait: false,\r\n            bindI18n: 'languageChanged loaded',\r\n            bindStore: 'added removed',\r\n            nsMode: 'default'\r\n        }\r\n    });\r\n\r\n\r\nexport default i18n;","import React, { Component } from 'react'\r\nimport { PieChart, Pie, Cell } from 'recharts'\r\n\r\nclass RadialChart extends Component {\r\n\r\n    render() {\r\n        const data = this.props.data\r\n        const COLORS = this.props.colors\r\n\r\n        return <PieChart width={ 400 } height={ 400 } onMouseEnter={ this.onPieEnter }>\r\n            <Pie\r\n                data={ data }\r\n                cx={ 200 }\r\n                cy={ 200 }\r\n                innerRadius={ 120 }\r\n                outerRadius={ 160 }\r\n                fill=\"black\"\r\n                paddingAngle={ 3 }\r\n                dataKey=\"value\"\r\n            >\r\n                {\r\n                    data.map((entry, index) => <Cell fill={ COLORS[index % COLORS.length] }/>)\r\n                }\r\n            </Pie>\r\n        </PieChart>\r\n    }\r\n}\r\n\r\nexport default RadialChart","import React, { Component } from \"react\"\r\n\r\nclass DescriptionTitle extends Component {\r\n\r\n    render() {\r\n\r\n        const { value, title } = this.props\r\n\r\n        return <div className='subscription-description-title'>\r\n            <div>{ title }</div>\r\n            <div>{ value }</div>\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default DescriptionTitle","import { LOAD_SUBSCRIPTION, SUB_REVIEWED } from \"../constants\"\r\n\r\nexport function loadSubscriptions() {\r\n    return {\r\n        type: LOAD_SUBSCRIPTION,\r\n        callAPI: `/api/subscriptions`\r\n    }\r\n}\r\n\r\nexport function removeIdFromNewSub(id) {\r\n    return {\r\n        type: SUB_REVIEWED,\r\n        payload: id\r\n    }\r\n}","//Size of title text(em)\r\nexport const SMALL_TEXT = 0.8\r\nexport const NORMAL_TEXT = 1\r\nexport const LARGE_TEXT = 1.5\r\n\r\n//Main colors\r\nexport const MAIN_COLOR1 = '#2eb9e4'\r\nexport const MAIN_COLOR2 = '#efefef'\r\nexport const MAIN_COLOR3 = '#f8f8f8'\r\n\r\n//Const for actions\r\nexport const LOAD_SUBSCRIPTION = 'LOAD_SUBSCRIPTION'\r\nexport const SUB_REVIEWED = 'SUB_REVIEWED'\r\n\r\nexport const START = '_START'\r\nexport const SUCCESS = '_SUCCESS'\r\nexport const FAIL = '_FAIL'","import React, { Component } from \"react\"\r\nimport DescriptionTitle from \"../../common/DescriptionTitle\"\r\nimport { connect } from 'react-redux'\r\nimport { removeIdFromNewSub } from '../../../AC'\r\nimport { MAIN_COLOR3 } from \"../../../constants\";\r\n\r\nclass Subscription extends Component {\r\n\r\n    state = {\r\n        isOpen: false,\r\n        loading: false,\r\n        loaded: true,\r\n        error: false,\r\n        isNew: this.props.newSub.includes(this.props.id)\r\n    }\r\n\r\n    getDescription() {\r\n        const { isOpen } = this.state\r\n        const { initialDate, price, currency, categoryId, notificationDelay, site, categories } = this.props\r\n        const category = categories[categoryId].title\r\n        if (isOpen) {\r\n            return <div className='subscription-description'>\r\n                <DescriptionTitle title=\"Стоимость\" value={ price + ' ' + currency }/>\r\n                <DescriptionTitle title=\"Дата оформления\" value={ initialDate }/>\r\n                <DescriptionTitle title=\"Категория\" value={ category }/>\r\n                <DescriptionTitle title=\"Уведомлять за\" value={ notificationDelay + ' дня(ей)' }/>\r\n                <DescriptionTitle title=\"Сайт управления подпиской\"\r\n                                  value={ <a className='subscription-site' href={ site } target=\"_blank\">перейти</a> }/>\r\n            </div>\r\n        }\r\n        return ''\r\n    }\r\n\r\n    getTrialText() {\r\n        return <div className=\"trial-text\">\r\n            TRIAL\r\n        </div>\r\n    }\r\n\r\n    getContent() {\r\n        const { title, date, trial, categoryId, categories, id, newSub } = this.props\r\n        const removeId = removeIdFromNewSub\r\n        return (<React.Fragment>\r\n            <div className=\"subscription\" style={ { backgroundColor: this.state.isOpen ? MAIN_COLOR3 : '' } }\r\n                 onClick={ () => {\r\n                     if (newSub.includes(id)) {\r\n                         this.setState({ isNew: false })\r\n                         this.props.dispatch(removeId(id))\r\n                     }\r\n                     this.setState({ isOpen: !this.state.isOpen })\r\n                 } }>\r\n                <div className='subscription-left'>\r\n                    <div className='subscription-category-color' style={ {\r\n                        backgroundColor: categories[categoryId].color\r\n                    } }/>\r\n                    Подписка { title + (this.state.isNew ? ' (new)' : '') }\r\n                </div>\r\n                <div className='subscription-right'>\r\n                    { trial === 'true' ? this.getTrialText() : '' }\r\n                    <div>следующее\r\n                        списание { date ? date : 'Неизвестно' }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            { this.getDescription() }\r\n        </React.Fragment>)\r\n    }\r\n\r\n    render() {\r\n        return this.getContent()\r\n    }\r\n}\r\n\r\nexport default connect((state) => ({\r\n    categories: state.categories,\r\n    newSub: state.subscriptions.get('newSub').toArray()\r\n}))(Subscription)","import React, { Component } from \"react\"\r\nimport { SMALL_TEXT, NORMAL_TEXT, LARGE_TEXT, MAIN_COLOR1 } from '../../constants'\r\n\r\nclass Title extends Component {\r\n\r\n    getStyle() {\r\n        const { size } = this.props\r\n        switch (size) {\r\n            case 'small':\r\n                return {color: MAIN_COLOR1, fontSize: SMALL_TEXT + 'em', paddingBottom: SMALL_TEXT*(0.7) + 'em'}\r\n            case 'normal':\r\n                return {color: MAIN_COLOR1, fontSize: NORMAL_TEXT + 'em', paddingBottom: NORMAL_TEXT*(0.7) + 'em'}\r\n            case 'large':\r\n                return {color: MAIN_COLOR1, fontSize: LARGE_TEXT + 'em', paddingBottom: LARGE_TEXT*(0.7) + 'em'}\r\n            default:\r\n                return {color: MAIN_COLOR1, fontSize: NORMAL_TEXT + 'em', paddingBottom: NORMAL_TEXT*(0.7) + 'em'}\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        const { value } = this.props\r\n\r\n        return <div style={this.getStyle()}>\r\n            { value }\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default Title","import React, { Component } from \"react\"\r\nimport Subscription from \"./Subscription\"\r\nimport Title from \"../../common/Title\"\r\nimport { connect } from 'react-redux'\r\nimport { loadSubscriptions } from '../../../AC'\r\nimport { MAIN_COLOR2 } from \"../../../constants\"\r\n\r\nclass SubList extends Component {\r\n\r\n    getBody() {\r\n        const { loading, error } = this.props\r\n        if (loading) {\r\n            return <Title value='Загрузка'/>\r\n        } else if (error) {\r\n            return <Title value='Ошибка при загрузке списка подписок'/>\r\n        } else {\r\n            const body = []\r\n            body.push(<div style={ { height: '1px', backgroundColor: MAIN_COLOR2 } }></div>)\r\n            const { subscriptions } = this.props //TODO Сделать аккодреон\r\n            for (let id in subscriptions) {\r\n                const { title, nextDate, initialDate, price, currency, categoryId, notificationDelay, site, trial } = subscriptions[id]\r\n                body.push(<Subscription id={ id }\r\n                                        title={ title }\r\n                                        date={ nextDate }\r\n                                        initialDate={ initialDate }\r\n                                        price={ price }\r\n                                        currency={ currency }\r\n                                        categoryId={ categoryId }\r\n                                        notificationDelay={ notificationDelay }\r\n                                        site={ site }\r\n                                        trial={ trial }/>)\r\n            }\r\n            return body\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        if (!this.props.loaded)\r\n            this.props.loadSubscriptions()\r\n\r\n        return <React.Fragment>\r\n            <Title value=\"Список подписок\" size='large'/>\r\n            { this.getBody() }\r\n        </React.Fragment>\r\n    }\r\n}\r\n\r\nexport default connect((state) => ({\r\n    loading: state.subscriptions.get('loading'),\r\n    loaded: state.subscriptions.get('loaded'),\r\n    error: state.subscriptions.get('error'),\r\n    subscriptions: state.subscriptions.get('entities')\r\n}), { loadSubscriptions })(SubList)","import React, { Component } from 'react'\r\nimport RadialChart from \"./RadialChart\"\r\nimport SubList from \"./SubList\";\r\nimport { connect } from \"react-redux\";\r\n\r\nclass Body extends Component {\r\n\r\n    getColors() {\r\n        const colors = []\r\n        const { categories } = this.props\r\n        for (let key in categories) {\r\n            if (categories[key].subList.length !== 0)\r\n                colors.push(categories[key].color)\r\n        }\r\n        return colors\r\n    }\r\n\r\n    getData() {\r\n        const data = []\r\n        const { categories } = this.props\r\n        for (let key in categories) {\r\n            if (categories[key].subList.length !== 0)\r\n                data.push({\r\n                    name: categories[key].title,\r\n                    value: categories[key].subList.length\r\n                })\r\n        }\r\n        return data\r\n    }\r\n\r\n    render() {\r\n\r\n        return <div id=\"body\">\r\n            <div className='body-left'>\r\n                <SubList/>\r\n            </div>\r\n            <div className='body-split'/>\r\n            <div className='body-right'>\r\n                <RadialChart data={ this.getData() } colors={ this.getColors() }/>\r\n            </div>\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default connect((state) => ({\r\n    categories: state.categories,\r\n    subscriptions: state.subscriptions.get('entities')\r\n}))(Body)","import React, { Component } from 'react'\r\nimport { MAIN_COLOR1, MAIN_COLOR2 } from \"../../../constants\"\r\nimport MailOutlineIcon from '@material-ui/icons/MailOutline'\r\nimport SettingsIcon from '@material-ui/icons/Settings'\r\nimport MeetingRoomIcon from '@material-ui/icons/MeetingRoom'\r\n\r\nclass MenuButton extends Component {\r\n\r\n\r\n    getIcon() {\r\n        const { icon } = this.props\r\n\r\n        const style = { color: MAIN_COLOR2 }\r\n\r\n        switch (icon) {\r\n            case 'mail':\r\n                return <MailOutlineIcon style={ style }/>\r\n            case 'settings':\r\n                return <SettingsIcon style={ style }/>\r\n            case 'exit':\r\n                return <MeetingRoomIcon style={ style }/>\r\n        }\r\n    }\r\n\r\n    getNotification() {\r\n        const { notification } = this.props\r\n        if (notification)\r\n            return <div className=\"menu-button-notification\">{ notification }</div>\r\n    }\r\n\r\n    render() {\r\n        const { title, active, icon } = this.props\r\n        return <div className={ (icon ? 'menu-button-icon ' : '') + 'menu-button' }\r\n                    style={ { backgroundColor: active ? MAIN_COLOR1 : 'none', position: 'relative' } }>\r\n            { this.getNotification() }\r\n            <div style={ {\r\n                margin: \"auto\",\r\n                fontSize: \"1em\",\r\n                color: active ? MAIN_COLOR2 : 'black'\r\n            } }>{ icon ? this.getIcon() : title }</div>\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default MenuButton","import React, { Component } from 'react'\r\nimport MenuButton from \"./MenuButton\";\r\nimport lock from \"./Lock.svg\";\r\nimport { MAIN_COLOR1, MAIN_COLOR2, SMALL_TEXT } from \"../../../constants\";\r\nimport { connect } from 'react-redux'\r\n\r\nclass HorizontalMenu extends Component {\r\n\r\n    getUserInfo() {\r\n        return (<div style={ { margin: \"auto 0\", fontSize: SMALL_TEXT + 'em' } }>\r\n            <span style={ { color: MAIN_COLOR2 } }>Здравствуйте,</span><br/>\r\n            <span style={ { color: MAIN_COLOR1 } }>Рашидов Азат</span>\r\n        </div>)\r\n    }\r\n\r\n    getMenu() {\r\n        const { newSub } = this.props\r\n\r\n        return <div style={ { display: 'flex' } }>\r\n            <MenuButton title=\"Главная\"/>\r\n            <MenuButton title=\"Мои финансы\"/>\r\n            <MenuButton title=\"Мои подписки\" active notification={ newSub.length }/>\r\n            <MenuButton title=\"Платежи и переводы\"/>\r\n            <MenuButton title=\"Безопасность\"/>\r\n            <MenuButton icon=\"mail\"/>\r\n            <MenuButton icon=\"settings\"/>\r\n            <MenuButton icon=\"exit\"/>\r\n        </div>\r\n    }\r\n\r\n    render() {\r\n        return <div id='horizontal-menu'>\r\n            <div id='horizontal-menu-left'>\r\n                <img id='lock-img' src={ lock } alt=\"Вход\"/>\r\n                { this.getUserInfo() }\r\n            </div>\r\n            <div style={ {\r\n                display: 'flex',\r\n                justifyContent: 'flex-end'\r\n            } }>{ this.getMenu() }</div>\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default connect((state) => ({\r\n    newSub: state.subscriptions.get('newSub').toArray()\r\n}))(HorizontalMenu)","import React, { Component } from 'react'\r\nimport logo from './Header_logo.svg'\r\n\r\nclass Index extends Component {\r\n    render() {\r\n        return <div id='header-img'>\r\n            <img id='main-logo' src={ logo } alt=\"Банк Открытие\"/>\r\n            <div id=\"header-contact\">\r\n                <div id=\"header-phone\">8 800 700-787-7</div>\r\n                <div id=\"header-call\">бесплатный звонок по России</div>\r\n            </div>\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default Index","import React, { Component } from 'react'\r\nimport HorizontalMenu from \"./HorizontalMenu\";\r\nimport HeaderImg from \"./HeaderImg\";\r\n\r\nclass Header extends Component {\r\n    render() {\r\n        return <React.Fragment>\r\n            <HeaderImg/>\r\n            <HorizontalMenu/>\r\n        </React.Fragment>\r\n    }\r\n}\r\n\r\nexport default Header","import React, { Component } from 'react'\r\nimport { withTranslation } from \"react-i18next\"\r\nimport i18n from '../localization/i18n'\r\nimport Body from './Body/Body'\r\nimport Header from './Header'\r\n\r\nclass App extends Component {\r\n\r\n    changeLanguage(lng){\r\n        i18n.changeLanguage(lng)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <Header />\r\n                <Body />\r\n                {/*<button onClick={() => this.changeLanguage('ru')}>ru</button>\r\n                <button onClick={() => this.changeLanguage('en')}>en</button>*/}\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withTranslation()(App)","import React, { Component } from 'react'\r\nimport App from './App'\r\nimport { Provider } from 'react-redux'\r\nimport { I18nextProvider } from 'react-i18next'\r\nimport i18n from '../localization/i18n'\r\nimport { withStyles } from '@material-ui/core/styles'\r\n\r\nclass Root extends Component {\r\n    render() {\r\n        return (\r\n            <I18nextProvider i18n={ i18n }>\r\n                <Provider store={ this.props.store }>\r\n                    <App/>\r\n                </Provider>\r\n            </I18nextProvider>)\r\n    }\r\n}\r\n\r\nexport default withStyles({\r\n    root: {\r\n        fontFamily: 'Whitney-Medium'\r\n    }\r\n})(Root)","import { LOAD_SUBSCRIPTION, SUCCESS, START, FAIL, SUB_REVIEWED } from '../constants'\r\nimport { Record, List } from 'immutable'\r\nimport newSub from '../data/new-sub'\r\nimport subscriptions from '../data/subscriptions'\r\n\r\nconst subRecord = Record({\r\n    loading: false,\r\n    loaded: false,\r\n    error: false,\r\n    entities: subscriptions,\r\n    newSub: new List(newSub)\r\n})\r\n\r\nexport default (state = new subRecord(), action) => {\r\n    const { type, response, payload } = action\r\n\r\n    switch (type) {\r\n        /*case LOAD_SUBSCRIPTION + START:\r\n            return state.set('loading', true)\r\n                .set('loaded', false)\r\n\r\n        case LOAD_SUBSCRIPTION + SUCCESS:\r\n            return state.set('loading', false)\r\n                .set('loaded', true)\r\n                .set('entities', response)\r\n\r\n        case LOAD_SUBSCRIPTION + FAIL:\r\n            return state.set('error', true)*/\r\n\r\n        case SUB_REVIEWED:\r\n            const key = state.get('newSub').keyOf(payload)\r\n            return state\r\n                .set('newSub', state.get('newSub').delete(key))\r\n    }\r\n\r\n    return state\r\n}","import { combineReducers } from 'redux'\r\nimport subscriptions from './subscriptions'\r\nimport categories from \"./categories\";\r\n\r\nexport default combineReducers({\r\n    subscriptions, categories\r\n})","import categories from '../data/categories'\r\n\r\nexport default (state = categories, action) => {\r\n    return state\r\n}","import { applyMiddleware, createStore } from 'redux'\r\nimport reducer from '../reducer'\r\nimport api from \"../middlewares/api\";\r\n\r\nconst store = createStore(reducer, applyMiddleware(api))\r\n\r\n//dev only\r\nwindow.store = store\r\n\r\nexport default store","import { START, SUCCESS, FAIL } from '../constants'\r\n\r\nexport default store => next => async action => {\r\n    const { callAPI, type, ...rest } = action\r\n    if (!callAPI) return next(action)\r\n    next({\r\n        type: type + START,\r\n        ...rest\r\n    })\r\n\r\n    //dev only\r\n    const res = await fetch(callAPI)\r\n\r\n    const json = await res.json()\r\n    next({ ...rest, type: type + SUCCESS, response: json })\r\n}","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport Root from './components/Root'\nimport store from './store'\n\nReactDOM.render(<Root store = {store}/>, document.getElementById('root'));\n"],"sourceRoot":""}